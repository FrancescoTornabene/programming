\documentclass[11pt,a4]{article}

\usepackage[margin=2cm]{geometry}

\usepackage{amsmath}
\usepackage{url}

\usepackage{amsmath}
\usepackage{url}

\usepackage[utf8]{inputenc}

% Default fixed font does not support bold face
\DeclareFixedFont{\ttb}{T1}{txtt}{bx}{n}{10} % for bold
\DeclareFixedFont{\ttm}{T1}{txtt}{m}{n}{10}  % for normal

% Custom colors
\usepackage{color}
\definecolor{deepblue}{rgb}{0,0,0.5}
\definecolor{deepred}{rgb}{0.6,0,0}
\definecolor{deepgreen}{rgb}{0,0.5,0}

\usepackage{listings}

% Python style for highlighting
\newcommand\pythonstyle{\lstset{
language=Python,
basicstyle=\ttm,
otherkeywords={self},             % Add keywords here
keywordstyle=\ttb\color{deepblue},
emph={MyClass,__init__},          % Custom highlighting
emphstyle=\ttb\color{deepred},    % Custom highlighting style
stringstyle=\color{deepgreen},
frame=tb,                         % Any extra options here
showstringspaces=false            % 
}}


% Python environment
\lstnewenvironment{python}[1][]
{
\pythonstyle
\lstset{#1}
}
{}

% Python for external files
\newcommand\pythonexternal[2][]{{
\pythonstyle
\lstinputlisting[#1]{#2}}}

% Python for inline
\newcommand\pythoninline[1]{{\pythonstyle\lstinline!#1!}}


\usepackage{collectbox}

\newcommand{\mybox}[2]{$\quad$\fbox{
\begin{minipage}{#1cm}
\hfill\vspace{#2cm}
\end{minipage}
}}


\usepackage{fancyhdr}
\pagestyle{fancy}
\rhead{Programmazione 1 - Esercitazione 5}

\include{book_header}

\begin{document}
\thispagestyle{empty}
\hrule
\begin{center}
   {\Large {\bf Programmazione 1 \hspace{3cm} $\quad \quad \quad$ Esercitazione 5}}
\end{center}
{\bf Cognome: }\hspace{2.5cm} {\bf Nome: } \hspace{2.5cm} {\bf Matricola: } \\\
\hrule

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section*{}

\begin{enumerate}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\item Scrivere un predicato {\tt Equal(As, Bs)} che controlla se le due liste {\tt As} e {\tt Bs} sono 
uguali elemento per elemento ({\bf nota:} usare le pairslist).

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\item Scrivere una funzione {\tt Intersect(As, Bs)} che prende in input due tuple e restituisce una tupla che contiene gli elementi che sono presenti sia nella prima che nella seconda tupla. Utilizzare la funzione di test seguente:
\begin{python}
def TestZero():
    if Intersect((2,3,4,2,1,2,7), (2,3,2,3,4)) == (2, 3, 4):
        return 'ok'
    return 'failed'
print('Test zero: '+TestZero())
\end{python}
\mybox{15}{2.0}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\item Si scriva una funzione {\tt RimuoviDuplicati(As, Bs)} che prenda in input due liste e che rimuove dalla prima lista ogni elemento che compare nella seconda lista. La funzione non ritorna nulla, ma modifica la prima lista data in input. Usare le liste di Python e usare il metodo {\tt L.remove(e)} che rimuove dalla lista {\tt L} il primo elemento uguale a {\tt e}.
\begin{python}
def RimuoviDuplicati(As, Bs):    
    pass  # DA COMPLETARE
L1 = [2, 4, 2, 5, 6, 6, 3, 2, 9, 4]
L2 = [2, 4, 7]
RimuoviDuplicati(L1, L2)
print('L1 =', L1)
\end{python}
\mybox{15}{2.0}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\item Scrivere una funzione {\tt SortIncreasing(As)} che prende in input una lista di numeri {\tt As} e restituisce una nuova
lista con gli stessi elementi di {\tt As}, ma ordinati in modo crescente ({\bf nota:} usare le pairslist).

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\item Scrivere una funzione {\tt Sort(As, C)} che prende in input una lista di numeri {\tt As} e 
una funzione di confronto tra due elementi della lista, e restituisce una nuova
lista con gli stessi elementi di {\tt As}, ma ordinati in base al criterio dato dalla procedura {\tt C} ({\bf nota:} usare le pairslist).
\begin{python}
print(Sort(MakeRandInts(10,1,100), lambda x, y: x < y)) # Esempio di utilizzo
\end{python}
\mybox{15}{2.0}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\item Si scriva una funzione {\tt CalcolaFrequenza(D)} che prende in input un dizionario {\tt D} che contiene
una chiave per ogni carattere e come valore il numero di volte che il carattere appare in un dato testo, e restituisca
un nuovo dizionario che contiene per ogni carattere (chiave) di {\tt D} la sua percentuale di presenza nel testo.
Usare il file di testo {\tt LeAvventureDiPinocchio.txt} e calcolare le frequenze di ciascun carattere.

\mybox{15}{2.5}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\item Si scriva una funzione {\tt ComputeTable(Ls)} che prende in input una lista di $n$ caratteri (alfabeto)
e per ogni carattere costruisca due dizionari, il primo chiamato {\tt char2int} che ha come chiave un carattere
e come valore un numero identificativo unico compreso in $[1,n)$, e il secondo dizionario ha come chiave un 
numero e come valore il carattere di cui è la codifica. La funzione deve restituire i due dizionari. Per esempio:
\begin{python}
char2int, int2char = ComputeTable('abc')
# dovrebbe essere: char2int = {'a': 0, 'b': 1, 'c': 2}
# dovrebbe essere: int2char = {0: 'a', 1: 'b', 2: 'c'}
print(char2int['a'], int2char[2]) # Deve stampare 0 e c
\end{python}
\mybox{15}{2.5}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\item {\bf PROGRAMMA 1:} Il cifrario di Cesare è uno dei più vecchi (semplice e insicuro) algoritmo di criptografia. 
L'idea di cifratura consiste nel sostituire ogni carattere di un messaggio con un carattere che nell'alfabeto
occupa 3 cifre in avanti, ripartendo dall'inizio se si dovesse superare l'ultima lettera. 
Per esempio, una 'a' diventa una 'd' e una 'z' diventa una 'c'. Per decriptare un messaggio basta compiere
l'operazione inversa usata per la cifratura. Per esempio, {\tt buono studio!} diventa {\tt exrqr vwxglr!}

Scrivere un programma per decifrare il testo contenuto nel file {\tt testo\_segreto\_facile.txt}.
Suggerimento: calcolare e usare le frequenze di ciascun carattere contenuto nel libro "Le avventure di Pinocchio",
usare le funzioni {\tt ContaCaratteri}, {\tt CalcolaFrequenza} e {\tt ComputeTables}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\item {\bf CHALLENGE 3:} Decifrare il testo seguente, non generato con un cifrario di Cesare, che trovate 
nel file {\tt testo\_segreto\_difficile.txt}:

{\it — ab, ab, ab f vbw ab. bczjzw xb vcbjfllb zqqz jwz tgbaz ezmz sw swrfamzcf ga czhzoob vfctfaf, f rbhqwb jzamfafcf qz vcbjfllz. zaow, lwppbjf rfsb pxf wq lbqf rz lbmmb, pbly mw qzlpwb lgtwmb f lpzvvb rwz. sgaugf zsswb, f tgba rwzhhwb.}

Per il {\bf PROGRAMMA} e la {\bf CHALLENGE} potete mandare il testo in chiaro e l'implementazione in python per email (facoltativo).
\end{enumerate}

\end{document}
